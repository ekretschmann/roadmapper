<section data-ng-controller="ProjectsController" data-ng-init="findOne()">


    <div class="pull-right">
        <a class="btn btn-primary" data-ng-click="remove();">
            <i class="glyphicon glyphicon-trash"></i>
        </a>
    </div>

    <div class="page-header">
        <h1 data-ng-bind="project.name"></h1>
    </div>



    <div class="row">
        <div class="container col-xs-6">


            <form ng-submit="addEpic()">
                <label>Add a new Epic</label>

                <div style="padding-bottom: 20px">
                    <form class="form-inline">
                        <div class="form-group">

                            <div class="input-group">
                                <!--<div class="input-group-addon">$</div>-->
                                <input type="text" data-ng-model="epicName" style="height:48px;" class="form-control"
                                       id="exampleInputAmount" placeholder="Epic">

                                <div class="input-group-addon"><a class="btn btn-primary" href=""
                                                                  data-ng-click="addEpic()">
                                    <i class="glyphicon glyphicon-plus-sign"></i>
                                </a></div>
                            </div>
                        </div>

                    </form>
                </div>

                <div class="row" data-ng-if="project.epics.length === 0">
                    <div class="col-xs-12">
                        There are no epics for this project. Please add one.
                    </div>
                </div>

                <div data-as-sortable="dragControlListeners" data-ng-model="project.epics" style="margin-top: 10px">
                    <div class="row" data-ng-repeat="epic in project.epics" data-as-sortable-item>

                        <div data-as-sortable-item-handle
                             style="padding-left: 10px; padding-top: 5px; padding-bottom: 5px">
                            <a href="" data-ng-click="removeEpic(epic)">
                                <i class="glyphicon glyphicon-minus-sign "></i>
                            </a>
                            {{epic}}
                        </div>
                    </div>
                </div>


            </form>
        </div>

        <div class="container  col-xs-6 ">

            <form ng-submit="addRoadmap()">
                <label>Add a new Roadmap</label>

                <div style="padding-bottom: 20px">

                    <form class="form-inline">
                        <div class="form-group">

                            <div class="input-group">
                                <input type="text" data-ng-model="roadmapName" style="height:48px;" class="form-control"
                                       placeholder="Roadmap">

                                <div class="input-group-addon"><a class="btn btn-primary" href=""
                                                                  data-ng-click="addRoadmap()">
                                    <i class="glyphicon glyphicon-plus-sign"></i>
                                </a></div>
                            </div>
                        </div>

                    </form>

                </div>

                <div>


                    <div class="row" data-ng-if="project.roadmaps.length === 0">
                        <div class="col-xs-12">
                            <div class="alert alert-warning" style="margin-top: 10px">
                                There are no roadmaps for this project. Please add one.
                            </div>
                        </div>
                    </div>

                    <div class="row" data-ng-repeat="map in project.roadmaps" style="margin-top: 5px">

                        <div data-ng-controller="RoadmapsController" data-ng-init="findById(map)">
                            <div class="col-xs-4" style="padding-top: 10px">
                                {{roadmap.created | date:shortDate}}
                            </div>

                            <div class="col-xs-4" style="padding-top: 10px">
                                <a href="/#!/roadmaps/{{roadmap._id}}">{{roadmap.name}}</a>
                            </div>

                            <div class="col-xs-4" style="padding-top: 10px">
                                {{roadmap.epics.length}} epics
                            </div>
                        </div>

                    </div>
                </div>
            </form>
        </div>

    </div>


</section>

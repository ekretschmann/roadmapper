<section data-ng-controller="RoadmapsController" data-ng-init="findOne()">



    <div class="page-header">
        <h1>{{project.name}}</h1>


    </div>

    <div style="padding-bottom: 20px; vertical-align: middle; position: relative">
        <a class="btn btn-primary" data-ng-click="remove();">
                <i class="glyphicon glyphicon-trash"></i>
            </a>

        <span style="font-size: x-large; font-weight: bold; position:absolute; top: 0px; left:50px">Roadmap {{roadmap.name}}



        </span>


        <span style="position: absolute; right:0px; top:5px">

            <a class="btn btn-primary" data-ng-click="update();">
                <i class="glyphicon glyphicon-floppy-disk"></i>
            </a>


            <a class="btn btn-primary" data-ng-click="run();">
                run simulation
            </a>
        </span>


    </div>


    <div id='heatmap' data-ng-controller="HeatmapController" data-ng-init="init()"></div>


    <div style="padding-top: 20px">


        <form ng-submit="addEpic()">
            <label>Add a new Epic</label>

            <div >
                <form class="form-inline">
                    <div class="form-group">

                        <div class="input-group">
                            <!--<div class="input-group-addon">$</div>-->
                            <input type="text" data-ng-model="epicName" style="height:48px;" class="form-control"
                                   id="exampleInputAmount" placeholder="Epic">

                            <div class="input-group-addon"><a class="btn btn-primary" href=""
                                                              data-ng-click="addEpic()">
                                <i class="glyphicon glyphicon-plus-sign"></i>
                            </a></div>

                        </div>


                    </div>

                </form>
            </div>

            <div class="row" data-ng-if="project.epics.length === 0">
                <div class="col-xs-12">
                    There are no epics for this project. Please add one.
                </div>
            </div>

            <div data-as-sortable="dragControlListeners" data-ng-model="project.epics" >
                <div class="row" data-ng-repeat="epic in project.epics" data-as-sortable-item>
                    <div data-as-sortable-item-handle
                         style="padding-left: 10px; padding-top: 5px; padding-bottom: 5px">
                        <a href="" data-ng-click="removeEpic(epic)">
                            <i class="glyphicon glyphicon-minus-sign "></i>
                        </a>
                        {{epic}}
                    </div>
                </div>
            </div>


        </form>




        <!--<div class="row">-->


            <!--<div class="col-xs-12" style="text-align: right">-->
                <!--<a class="btn btn-primary" data-ng-click="run();">-->
                    <!--run simulation-->
                <!--</a>-->
            <!--</div>-->


            <!--<div class="col-xs-12 ">-->


                <!--<div class="form-group">-->
                    <!--<label class=" control-label">Add a new Epic</label>-->

                <!--<div class="input-group">-->


                    <!--<input class="form-control" type="text" data-ng-model="epicName">-->

                    <!--<span class="input-group-btn">-->
                <!--<a class="btn btn-primary" href="" data-ng-click="addEpic()">-->
                    <!--<i class="glyphicon glyphicon-plus-sign"></i>-->
                <!--</a>-->
                    <!--</span>-->
                <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->


        <!--<div class="row" data-ng-if="roadmap.epics.length === 0">-->
            <!--<div class="col-xs-12">-->
                <!--There are no epics for this project. Please add one.-->
            <!--</div>-->
        <!--</div>-->

        <div data-as-sortable="dragControlListeners" data-ng-model="roadmap.epics" style="margin-top: 10px">
            <div class="row" data-ng-repeat="epic in roadmap.epics" data-as-sortable-item>
                <div data-as-sortable-item-handle style="padding-left: 10px; padding-top: 5px; padding-bottom: 5px">

                    <div class="col-xs-1" style="padding-top: 15px">
                        <a href="" data-ng-click="removeEpic(epic)">
                            <i class="glyphicon glyphicon-minus-sign "></i>
                        </a>


                    </div>

                    <div class="col-xs-3" style="margin-top: 10px; margin-bottom: 10px">
                        <input class="form-control" type="text" data-ng-model="epic.name">
                    </div>

                    <div class="col-xs-1" style="padding-top: 15px;">
                        Est:
                    </div>

                    <div class="col-xs-3" style="margin-top: 10px; margin-bottom: 10px">
                        <input class="form-control" type="number" data-ng-model="epic.estimated" >
                    </div>

                    <div class="col-xs-1" style="padding-top: 15px;">
                        Deviation:
                    </div>

                    <div class="col-xs-3" style="margin-top: 10px; margin-bottom: 10px">
                        <input class="form-control" type="number" data-ng-model="epic.deviation" >
                    </div>
                </div>
            </div>


        </div>

</section>
